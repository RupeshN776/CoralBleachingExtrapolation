
<!-- Map Container -->
<div id="map" style="width: 100%; height: 500px; margin-top: 20px;"></div>

<script>
    async function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 5,
            center: { lat: 0.0, lng: 0.0 }
            });

        try {
                const res = await fetch('/Home/GetRandomPolygonJson');
            const data = await res.json();

            if (!data.success || !data.polygon) {
                    console.error("No polygon data found.");
                return;
            }

            const coords = JSON.parse(data.polygon);
            const bounds = new google.maps.LatLngBounds();

            const polygon = new google.maps.Polygon({
                paths: coords,
                    strokeColor: "#FF0000",
                strokeOpacity: 0.8,
                    strokeWeight: 2,
                fillColor: "#FF0000",
                fillOpacity: 0.35
            });

            polygon.setMap(map);

            coords.forEach(coord => bounds.extend(new google.maps.LatLng(coord.lat, coord.lng)));
                map.fitBounds(bounds);
            } catch (error) {
                console.error("Error loading map data:", error);
            }
        }

        window.initMap = initMap;
</script>


<script async defer src="https://maps.googleapis.com/maps/api/js?key=ADD_API_KEY&callback=initMap"></script>

